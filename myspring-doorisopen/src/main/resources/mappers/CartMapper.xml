<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="org.doorisopen.myspring.Cart.CartMapper">

	<!-- 장바구니 추가 -->
	<insert id="CartAdd" parameterType="CartVO">
	
	</insert>
	
    <!-- 장바구니 리스트 -->
    <select id="CartRead" resultType="CartVO">
 	 <![CDATA[
		SELECT
			*
		FROM
			goods
		WHERE
			enabled = '1'
		ORDER BY 
			goodsIdx
		DESC
		LIMIT #{startList}, #{listSize}
 	 ]]> 
 	</select>
 	
 	<!-- Pagination ListCnt -->
 	<select id="getCartListCnt" resultType="int">
		SELECT
			count(*) AS listCnt
		FROM
			goods
 	</select>
 	
 	
    <!-- 장바구니 수정 -->
    <update id="CartUpdate">
    	UPDATE
    		goods
    	SET
    		goodsTitle = #{goodsTitle}
    		, goodsContent = #{goodsContent}
			, modifier = #{writer}
			, modifyDate = now()
			, goodsFilePath = #{goodsFilePath}
		WHERE
			goodsIdx = #{goodsIdx}
 	</update>
 	
    <!-- 장바구니 삭제 -->
    <delete id="CartDelete">
    	UPDATE
    		goods
    	SET
    		enabled = '0'
    	WHERE
    		goodsIdx = #{goodsIdx}
 	</delete>
 	
 	
</mapper>